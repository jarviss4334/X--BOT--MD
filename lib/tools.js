const ASWINSPARKY_0x21cf22=ASWINSPARKY_0x2c6d;(function(_0x229980,_0x492c1e){const _0x57a213=ASWINSPARKY_0x2c6d,_0x57ebae=_0x229980();while(!![]){try{const _0x23f199=parseInt(_0x57a213(0x1bb))/0x1*(parseInt(_0x57a213(0x1df))/0x2)+parseInt(_0x57a213(0x1da))/0x3*(parseInt(_0x57a213(0x1ba))/0x4)+-parseInt(_0x57a213(0x1d5))/0x5*(-parseInt(_0x57a213(0x1b0))/0x6)+-parseInt(_0x57a213(0x1d2))/0x7*(-parseInt(_0x57a213(0x1ca))/0x8)+parseInt(_0x57a213(0x1c6))/0x9+parseInt(_0x57a213(0x1bd))/0xa+-parseInt(_0x57a213(0x1b7))/0xb*(parseInt(_0x57a213(0x1b9))/0xc);if(_0x23f199===_0x492c1e)break;else _0x57ebae['push'](_0x57ebae['shift']());}catch(_0x2ddf65){_0x57ebae['push'](_0x57ebae['shift']());}}}(ASWINSPARKY_0x17ab,0x5b4dd));const fileType=require(ASWINSPARKY_0x21cf22(0x1ad)),FormData=require(ASWINSPARKY_0x21cf22(0x1ab)),fetch=require(ASWINSPARKY_0x21cf22(0x1aa)),axios=require(ASWINSPARKY_0x21cf22(0x1c1)),fs=require('fs'),os=require('os'),path=require(ASWINSPARKY_0x21cf22(0x1cc)),GITHUB_TOKEN='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',GITHUB_USERNAME=ASWINSPARKY_0x21cf22(0x1bf),GITHUB_REPO=ASWINSPARKY_0x21cf22(0x1b6),GITHUB_BRANCH=ASWINSPARKY_0x21cf22(0x1e1),VERCEL_DOMAIN='https://url.sparky.biz.id',MAX_FILE_SIZE_MB=0xc8;function ASWINSPARKY_0x2c6d(_0x3a106b,_0x41bfa8){const _0x17abf2=ASWINSPARKY_0x17ab();return ASWINSPARKY_0x2c6d=function(_0x2c6d85,_0x588678){_0x2c6d85=_0x2c6d85-0x1a9;let _0x20d624=_0x17abf2[_0x2c6d85];return _0x20d624;},ASWINSPARKY_0x2c6d(_0x3a106b,_0x41bfa8);}async function uploadMedia(_0x39f28c){const _0x442f3b=ASWINSPARKY_0x21cf22;try{const {ext:_0x41e34d}=await fileType[_0x442f3b(0x1c2)](_0x39f28c),_0x5cb21b=new FormData();_0x5cb21b[_0x442f3b(0x1db)](_0x442f3b(0x1d3),_0x39f28c,_0x442f3b(0x1c5)+_0x41e34d),_0x5cb21b[_0x442f3b(0x1db)](_0x442f3b(0x1b2),_0x442f3b(0x1a9));const _0x1e36ab=await fetch(_0x442f3b(0x1b4),{'method':'POST','body':_0x5cb21b});if(!_0x1e36ab['ok'])throw new Error(_0x442f3b(0x1c7)+_0x1e36ab[_0x442f3b(0x1cd)]+':\x20'+_0x1e36ab[_0x442f3b(0x1ce)]);const _0x10d95b=await _0x1e36ab['text']();return _0x10d95b;}catch(_0x3f65f6){console[_0x442f3b(0x1e2)]('Error\x20during\x20media\x20upload:',_0x3f65f6);throw new Error(_0x442f3b(0x1b5));}}async function handleMediaUpload(_0x1e434f){const _0x484919=ASWINSPARKY_0x21cf22;try{const _0x100e63=_0x1e434f[_0x484919(0x1e3)]/(0x400*0x400);if(_0x100e63>MAX_FILE_SIZE_MB)return _0x484919(0x1c3)+MAX_FILE_SIZE_MB+_0x484919(0x1cf);const _0x41e4c3=await uploadMedia(_0x1e434f);return _0x41e4c3;}catch(_0x48b59b){console[_0x484919(0x1e2)](_0x484919(0x1d9),_0x48b59b);throw new Error('Failed\x20to\x20handle\x20media\x20upload');}}function makeid(_0x5d6b76=0x6){const _0x4952c6=ASWINSPARKY_0x21cf22;let _0x89f33f='',_0x148107=_0x4952c6(0x1b3);for(let _0x304a86=0x0;_0x304a86<_0x5d6b76;_0x304a86++){_0x89f33f+=_0x148107['charAt'](Math[_0x4952c6(0x1c9)](Math[_0x4952c6(0x1d7)]()*_0x148107[_0x4952c6(0x1e3)]));}return _0x89f33f;}async function uploadToSparky(_0x1b0848,_0x2c7376=ASWINSPARKY_0x21cf22(0x1dd)){const _0x476b73=ASWINSPARKY_0x21cf22;let _0x1e3408;if(_0x2c7376===_0x476b73(0x1b1))_0x1e3408=makeid()+_0x476b73(0x1d8);else{if(_0x2c7376==='video')_0x1e3408=makeid()+_0x476b73(0x1d0);else _0x1e3408=makeid()+_0x476b73(0x1b8);}const _0x3890bb=path[_0x476b73(0x1be)](os[_0x476b73(0x1dc)](),_0x1e3408);fs[_0x476b73(0x1e0)](_0x3890bb,_0x1b0848);try{const _0x2f2c36=fs[_0x476b73(0x1af)](_0x3890bb,{'encoding':_0x476b73(0x1c4)}),_0x235d5b=_0x476b73(0x1e4)+GITHUB_USERNAME+'/'+GITHUB_REPO+_0x476b73(0x1ac)+_0x1e3408;return await axios[_0x476b73(0x1de)](_0x235d5b,{'message':_0x476b73(0x1d1)+_0x1e3408+_0x476b73(0x1d6),'content':_0x2f2c36,'branch':GITHUB_BRANCH},{'headers':{'Authorization':_0x476b73(0x1c0)+GITHUB_TOKEN,'Content-Type':'application/json','User-Agent':_0x476b73(0x1c8)}}),fs[_0x476b73(0x1e5)](_0x3890bb),VERCEL_DOMAIN+'/'+_0x1e3408;}catch(_0x490269){fs['unlinkSync'](_0x3890bb);throw new Error(_0x490269[_0x476b73(0x1d4)]?.[_0x476b73(0x1cb)]?.[_0x476b73(0x1ae)]||_0x490269[_0x476b73(0x1ae)]);}}function ASWINSPARKY_0x17ab(){const _0x3b8467=['7250470qMiQrr','join','bijobino','Bearer\x20','axios','fromBuffer','File\x20size\x20exceeds\x20the\x20limit\x20of\x20','base64','file.','5941314SJQWOq','Upload\x20failed\x20with\x20status\x20','upload-script','floor','2520888cgtear','data','path','status','statusText','MB.','.mp4','upload\x20','7xGXUPj','fileToUpload','response','57895WFxcLv','\x20by\x20sparky','random','.mp3','Error\x20handling\x20media\x20upload:','1667193HDTKwm','append','tmpdir','image','put','210042wzxzyp','writeFileSync','main','error','length','https://api.github.com/repos/','unlinkSync','fileupload','node-fetch','form-data','/contents/','file-type','message','readFileSync','48pQruFl','audio','reqtype','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','https://catbox.moe/user/api.php','Failed\x20to\x20upload\x20media','sparkyapi','77ZqXwRe','.jpg','3565212bMDmtX','4AlWKfX','1VfQjME','exports'];ASWINSPARKY_0x17ab=function(){return _0x3b8467;};return ASWINSPARKY_0x17ab();}module[ASWINSPARKY_0x21cf22(0x1bc)]={'uploadMedia':uploadMedia,'handleMediaUpload':handleMediaUpload,'uploadToSparky':uploadToSparky};
